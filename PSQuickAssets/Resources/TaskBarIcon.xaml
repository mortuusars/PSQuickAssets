<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:tb="http://www.hardcodet.net/taskbar"
    xmlns:vm="clr-namespace:PSQuickAssets.ViewModels">

    <tb:TaskbarIcon
        x:Key="TaskBarIcon"
        IconSource="Images/psquickassets-size.ico"
        LeftClickCommand="{Binding ShowWindowCommand}">

        <tb:TaskbarIcon.DataContext>
            <vm:TaskBarViewModel />
        </tb:TaskbarIcon.DataContext>

        <tb:TaskbarIcon.TrayToolTip>
            <Border
                Padding="4,2"
                Background="White"
                BorderBrush="DimGray"
                BorderThickness="1">
                <TextBlock Foreground="DimGray" Text="{Binding AppName}" />
            </Border>
        </tb:TaskbarIcon.TrayToolTip>

        <tb:TaskbarIcon.ContextMenu>
            <ContextMenu>
                <MenuItem Command="{Binding ToggleTerminalCommand}" Header="{Binding ToggleTerminalWindow}" />
                <MenuItem Command="{Binding SettingsCommand}" Header="{Binding Settings}">
                    <MenuItem.Icon>
                        <Image Source="Images/settings.png" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Command="{Binding ExitCommand}" Header="{Binding Exit}" />
            </ContextMenu>
        </tb:TaskbarIcon.ContextMenu>
    </tb:TaskbarIcon>

</ResourceDictionary>